<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://zatoima.github.io/favicon.svg" />
<title>Installing the AWS Application Discovery Service Agent on EC2 (Linux) | my opinion is my own</title>
<meta name="title" content="Installing the AWS Application Discovery Service Agent on EC2 (Linux)" />
<meta name="description" content="" />
<meta name="keywords" content="AWS,EC2,Migration Hub,AWS Application Discovery Service," />


<meta property="og:url" content="https://zatoima.github.io/en/aws-ec2-application-discovery-service.html">
  <meta property="og:site_name" content="my opinion is my own">
  <meta property="og:title" content="Installing the AWS Application Discovery Service Agent on EC2 (Linux)">
  <meta property="og:description" content="memo blog. Hugo on GitHub Pages">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2020-10-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-10-12T00:00:00+00:00">
    <meta property="article:tag" content="AWS">
    <meta property="article:tag" content="EC2">
    <meta property="article:tag" content="Migration Hub">
    <meta property="article:tag" content="AWS Application Discovery Service">
    <meta property="og:image" content="https://zatoima.github.io/images/share.png">




  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://zatoima.github.io/images/share.png">
  <meta name="twitter:title" content="Installing the AWS Application Discovery Service Agent on EC2 (Linux)">
  <meta name="twitter:description" content="memo blog. Hugo on GitHub Pages">




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "\"Installing the AWS Application Discovery Service Agent on EC2 (Linux)\"",
  "description": "\"\"",
  "datePublished": "\"2020-10-12T00:00:00Z\"",
  "dateModified": "\"2020-10-12T00:00:00Z\"",
  "author": {
    "@type": "Person",
    "name": "\"zatoima\"",
    "url": "https://zatoima.github.io/about/"
  },
  "publisher": {
    "@type": "Person",
    "name": "\"zatoima\""
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "\"https://zatoima.github.io/en/aws-ec2-application-discovery-service.html\""
  },
  "inLanguage": "en",
  "wordCount":  1054 ,
  "keywords": "[\"AWS\",\"EC2\",\"Migration Hub\",\"AWS Application Discovery Service\"]"
}
</script>

<meta name="referrer" content="no-referrer-when-downgrade" />

  <link rel="alternate" type="text/plain" href="/llms.txt" title="LLMs.txt" />
  <link rel="alternate" type="text/plain" href="/llms-full.txt" title="LLMs-full.txt" />

  <script>
    (function(){
      var t = localStorage.getItem('theme');
      if (t === 'dark' || ((!t || t === 'system') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script><link rel="stylesheet" href="/css/zenn.css">

<script async src="https://www.googletagmanager.com/gtag/js?id=G-STFZ9QMXGM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-STFZ9QMXGM');
</script>

    
    <link rel="alternate" hreflang="ja" href="https://zatoima.github.io/aws-ec2-application-discovery-service.html" />
    
    <link rel="alternate" hreflang="en" href="https://zatoima.github.io/en/aws-ec2-application-discovery-service.html" />
  
</head>

<body>
  <a href="#main" class="skip-link">Skip to main content</a>
  <div class="reading-progress"></div>
  
  
  <div class="translation-notice">This is an English translation of a Japanese blog. Some content may not be fully translated.</div>
  
  <div class="site-wrapper">
    <header class="site-header">
      <div class="header-inner">
        <a href="/en/" class="site-logo">my opinion is my own</a>
        <nav class="header-nav">
<a href="/about/">About</a>
<a href="/en/blog/">Blog</a>
<a href="/index.xml">RSS</a>
<a href="/other/">Other</a>
<a href="/llms.txt" title="LLMs.txt - Site info for AI/LLM">llms.txt</a>
</nav>
        <div class="header-actions">
          <button id="search-btn" class="header-icon-btn" aria-label="Search">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
          </button>
          <button id="dark-mode-btn" class="header-icon-btn" aria-label="Toggle dark mode" data-label-light="Light" data-label-dark="Dark" data-label-system="System">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          </button><div class="lang-switcher">
  <button id="lang-btn" class="header-icon-btn" aria-label="Switch language">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
  </button>
  <div id="lang-dropdown" class="lang-dropdown">
    
    <a href="https://zatoima.github.io/" class="lang-dropdown-item" lang="ja">
      Êó•Êú¨Ë™û
    </a>
    
    <a href="https://zatoima.github.io/en/" class="lang-dropdown-item active" lang="en">
      English
    </a>
    
  </div>
</div>
<button id="hamburger-btn" class="hamburger-btn" aria-label="Menu">
            <span></span><span></span><span></span>
          </button>
        </div>
      </div>
    </header>

    
    <div id="search-overlay" class="search-overlay">
      <div class="search-modal">
        <input type="text" id="search-input" class="search-input" placeholder="Search articles... (Ctrl&#43;K)" autocomplete="off" data-min-chars="Please enter at least 2 characters" data-no-results="No results found">
        <div id="search-results" class="search-results"></div>
      </div>
    </div>

    
    <div id="nav-overlay" class="nav-overlay"></div>

    <main id="main" class="site-main">
<div class="article-layout">
  <article class="article-main">
    
    <nav class="breadcrumb" aria-label="Breadcrumb">
  <a href="/en/">Home</a>
  <span class="breadcrumb-sep">&gt;</span>
  
  <a href="/blog/">Blog</a>
  <span class="breadcrumb-sep">&gt;</span>
  
  <span class="breadcrumb-current">Installing the AWS Application Discovery ‚Ä¶</span>
</nav>

    
    <div class="article-card">
      <div class="article-header">
        <div class="article-emoji"><img src="/images/tags/aws.svg" alt="AWS" class="tag-icon" loading="lazy"></div>
        <h1>Installing the AWS Application Discovery Service Agent on EC2 (Linux)</h1>
        
        <div class="article-meta">
          <time class="article-date" datetime='2020-10-12'>
            Published on 2020/10/12
          </time>
          
          
          
          <span class="reading-time">üìñ 2 min read</span>
        </div>
        <div class="article-tags">
          
          <a href="https://zatoima.github.io/en/blog/aws/" class="tag-badge"><img src="/images/tags/aws.svg" alt="AWS" class="tag-badge-icon" loading="lazy">AWS</a>
          
          <a href="https://zatoima.github.io/en/blog/ec2/" class="tag-badge"><img src="/images/tags/ec2.svg" alt="EC2" class="tag-badge-icon" loading="lazy">EC2</a>
          
          <a href="https://zatoima.github.io/en/blog/migration-hub/" class="tag-badge">Migration Hub</a>
          
          <a href="https://zatoima.github.io/en/blog/aws-application-discovery-service/" class="tag-badge">AWS Application Discovery Service</a>
          
        </div>
        
      </div>
      <div class="article-content">
        <h3 id="what-is-aws-application-discovery-service">What is AWS Application Discovery Service?</h3>
<blockquote>
<p><a href="https://aws.amazon.com/application-discovery/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/application-discovery/</a>
</p>
<p>AWS Application Discovery Service helps enterprise customers plan migration projects by gathering information about their on-premises data centers.</p>
<p>Data center migration projects often involve thousands of workloads, many deeply interdependent. Server utilization data and dependency mapping are important early steps in the migration process. AWS Application Discovery Service collects and presents server configuration data, usage data, and behavior data, giving customers a thorough understanding of their workloads.</p>
<p>The collected data is stored in encrypted form in the AWS Application Discovery Service data store. This data can be exported as a CSV file for use in estimating total cost of ownership (TCO) and planning the migration to AWS. It is also available in AWS Migration Hub, where you can migrate your discovered servers to AWS and track migration progress.</p>
</blockquote>
<h3 id="agent-installation-and-data-collection">Agent Installation and Data Collection</h3>
<p>Let&rsquo;s install an agent on Linux (not the agentless configuration for VMware vCenter) and see what kind of information can be collected.</p>
<h4 id="prerequisites">Prerequisites</h4>
<p>Specify the Migration Hub home region in the <code>Migration Hub</code> settings screen.</p>
<p><img src="/en/aws-ec2-application-discovery-service/image-20201002211430313.png" alt="image-20201002211430313"></p>
<h4 id="download-the-agent">Download the Agent</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ curl -o ./aws-discovery-agent.tar.gz https://s3-us-west-2.amazonaws.com/aws-discovery-agent.us-west-2/linux/latest/aws-discovery-agent.tar.gz
</span></span><span style="display:flex;"><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style="display:flex;"><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">100</span> 36.6M  <span style="color:#bd93f9">100</span> 36.6M    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>  7330k      <span style="color:#bd93f9">0</span>  0:00:05  0:00:05 --:--:-- 8357k
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ ls -l
</span></span><span style="display:flex;"><span>total <span style="color:#bd93f9">37536</span>
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#bd93f9">1</span> ec2-user ec2-user <span style="color:#bd93f9">38433031</span> Oct  <span style="color:#bd93f9">2</span> 21:16 aws-discovery-agent.tar.gz
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$
</span></span></code></pre></div><h4 id="verify-the-agents-cryptographic-signature">Verify the Agent&rsquo;s Cryptographic Signature</h4>
<p>Confirm that the fingerprint is <code>7638 F24C 6717 F97C 4F1B  3BC0 5133 255E 4DF4 2DA2</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ curl -o ./agent.sig https://s3.us-west-2.amazonaws.com/aws-discovery-agent.us-west-2/linux/latest/aws-discovery-agent.tar.gz.sig
</span></span><span style="display:flex;"><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style="display:flex;"><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">100</span>   <span style="color:#bd93f9">819</span>  <span style="color:#bd93f9">100</span>   <span style="color:#bd93f9">819</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>   <span style="color:#bd93f9">1628</span>      <span style="color:#bd93f9">0</span> --:--:-- --:--:-- --:--:--  <span style="color:#bd93f9">1625</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ curl -o ./discovery.gpg https://s3.us-west-2.amazonaws.com/aws-discovery-agent.us-west-2/linux/latest/discovery.gpg
</span></span><span style="display:flex;"><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style="display:flex;"><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">100</span>  <span style="color:#bd93f9">2255</span>  <span style="color:#bd93f9">100</span>  <span style="color:#bd93f9">2255</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>   <span style="color:#bd93f9">5207</span>      <span style="color:#bd93f9">0</span> --:--:-- --:--:-- --:--:--  <span style="color:#bd93f9">5195</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ gpg --no-default-keyring --keyring ./discovery.gpg --verify agent.sig aws-discovery-agent.tar.gz
</span></span><span style="display:flex;"><span>gpg: Signature made Fri <span style="color:#bd93f9">18</span> Sep <span style="color:#bd93f9">2020</span> 07:33:42 AM JST using RSA key ID 4DF42DA2
</span></span><span style="display:flex;"><span>gpg: directory <span style="color:#f1fa8c">`</span>/home/ec2-user/.gnupg<span style="color:#f1fa8c">&#39; created
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">gpg: new configuration file `/home/ec2-user/.gnupg/gpg.conf&#39;</span> created
</span></span><span style="display:flex;"><span>gpg: WARNING: options in <span style="color:#f1fa8c">`</span>/home/ec2-user/.gnupg/gpg.conf&#39; are not yet active during this run
</span></span><span style="display:flex;"><span>gpg: /home/ec2-user/.gnupg/trustdb.gpg: trustdb created
</span></span><span style="display:flex;"><span>gpg: Good signature from <span style="color:#f1fa8c">&#34;AWS Application Discovery Service &lt;aws-application-discovery-service@amazon.com&gt;&#34;</span>
</span></span><span style="display:flex;"><span>gpg: WARNING: This key is not certified with a trusted signature!
</span></span><span style="display:flex;"><span>gpg:          There is no indication that the signature belongs to the owner.
</span></span><span style="display:flex;"><span>Primary key fingerprint: <span style="color:#bd93f9">7638</span> F24C <span style="color:#bd93f9">6717</span> F97C 4F1B  3BC0 <span style="color:#bd93f9">5133</span> 255E 4DF4 2DA2
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$
</span></span></code></pre></div><h4 id="extract-the-agent">Extract the Agent</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ tar -xzf aws-discovery-agent.tar.gz
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ ls -l
</span></span><span style="display:flex;"><span>total <span style="color:#bd93f9">75244</span>
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#bd93f9">1</span> ec2-user ec2-user      <span style="color:#bd93f9">819</span> Oct  <span style="color:#bd93f9">2</span> 21:16 agent.sig
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#bd93f9">1</span> ec2-user ec2-user <span style="color:#bd93f9">25637518</span> Sep  <span style="color:#bd93f9">3</span> 09:03 aws-discovery-agent.deb
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#bd93f9">1</span> ec2-user ec2-user <span style="color:#bd93f9">12934413</span> Sep  <span style="color:#bd93f9">3</span> 09:02 aws-discovery-agent.rpm
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#bd93f9">1</span> ec2-user ec2-user <span style="color:#bd93f9">38433031</span> Oct  <span style="color:#bd93f9">2</span> 21:16 aws-discovery-agent.tar.gz
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#bd93f9">1</span> ec2-user ec2-user     <span style="color:#bd93f9">2255</span> Oct  <span style="color:#bd93f9">2</span> 21:16 discovery.gpg
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#bd93f9">1</span> ec2-user ec2-user    <span style="color:#bd93f9">27548</span> Sep  <span style="color:#bd93f9">3</span> 09:02 install
</span></span></code></pre></div><h4 id="install-the-agent">Install the Agent</h4>
<p>Set your own <code>aws-access-key-id</code> and <code>aws-secret-access-key</code> values</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ sudo bash install -r ap-northeast-1 -k xxxxxxxxxxxx -s xxx/xxxxxxxxxxxx+xxxxxxx
</span></span><span style="display:flex;"><span>AWS region option specified as: ap-northeast-1.
</span></span><span style="display:flex;"><span>AWS key ID option specified as: xxxxxxxxxxxxxxx.
</span></span><span style="display:flex;"><span>AWS key secret option specified.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>**************************************************
</span></span><span style="display:flex;"><span>    INIT PHASE
</span></span><span style="display:flex;"><span>**************************************************
</span></span><span style="display:flex;"><span>Distribution <span style="color:#8be9fd;font-style:italic">type</span> of the machine is amzn.
</span></span><span style="display:flex;"><span>Distribution of the machine is Amazon Linux.
</span></span><span style="display:flex;"><span>Revision of the distribution is 2.
</span></span><span style="display:flex;"><span>bastin is using IAM authentication with AWS region ap-northeast-1.
</span></span><span style="display:flex;"><span>There is no existing version of the AWS Discovery Agent on the machine.
</span></span><span style="display:flex;"><span>Using rpm and yum <span style="color:#ff79c6">for</span> package management. Expected agent package name is aws-discovery-agent.rpm.
</span></span><span style="display:flex;"><span>Installing using <span style="color:#8be9fd;font-style:italic">local</span> file /home/ec2-user/ads/aws-discovery-agent.rpm
</span></span><span style="display:flex;"><span>ÔΩû<span style="color:#ff79c6">(</span>omitted<span style="color:#ff79c6">)</span>ÔΩû
</span></span><span style="display:flex;"><span>**************************************************
</span></span><span style="display:flex;"><span>    FINISH PHASE
</span></span><span style="display:flex;"><span>**************************************************
</span></span><span style="display:flex;"><span>Notice:
</span></span><span style="display:flex;"><span>By installing the Amazon Discovery Agent, you agree that your use is subject to the terms of your existing
</span></span><span style="display:flex;"><span>AWS Customer Agreement or other agreement with Amazon Web Services, Inc. or its affiliates governing your
</span></span><span style="display:flex;"><span>use of AWS services. You may not install and use the Amazon Discovery Agent unless you have an account in
</span></span><span style="display:flex;"><span>good standing with AWS.
</span></span><span style="display:flex;"><span>*  *  *
</span></span><span style="display:flex;"><span>Current running agent reports version as: 2.0.1618.0
</span></span><span style="display:flex;"><span>This install script was created to install agent version: 2.0.1618.0
</span></span><span style="display:flex;"><span>In most cases, these version numbers should be the same.
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#8be9fd;font-style:italic">$?</span>
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">0</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$
</span></span></code></pre></div><h4 id="verify-the-agent-is-running">Verify the Agent is Running</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$ sudo systemctl status aws-discovery-daemon.service
</span></span><span style="display:flex;"><span>‚óè aws-discovery-daemon.service - AWS Discovery Agent: Collects system configuration and usage statistics <span style="color:#ff79c6">for</span> AWS Discovery.
</span></span><span style="display:flex;"><span>   Loaded: loaded <span style="color:#ff79c6">(</span>/usr/lib/systemd/system/aws-discovery-daemon.service; enabled; vendor preset: disabled<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>   Active: active <span style="color:#ff79c6">(</span>running<span style="color:#ff79c6">)</span> since Fri 2020-10-02 21:23:42 JST; 59s ago
</span></span><span style="display:flex;"><span> Main PID: <span style="color:#bd93f9">11023</span> <span style="color:#ff79c6">(</span>aws-discoveryd<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>   CGroup: /system.slice/aws-discovery-daemon.service
</span></span><span style="display:flex;"><span>           ‚îî‚îÄ11023 /opt/aws/discovery/aws-discoveryd nodaemon
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: values
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">(</span>?, ?, ?, ?, ?, ?, ?<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.355855<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL REPLACE INTO commit_points <span style="color:#ff79c6">(</span>id, high_seq_num, end_time, end_utc_offset <span style="color:#ff79c6">)</span> VALUES <span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#39;LastCommit&#39;</span>, 1, 1601641423355, <span style="color:#bd93f9">540</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.355915<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL DELETE FROM last_known_states WHERE <span style="color:#8be9fd;font-style:italic">commit_point_id</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;LastCommit&#39;</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.355958<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL INSERT INTO last_known_states <span style="color:#ff79c6">(</span>commit_point_id, type, state, event_seq_num, event_time, event_utc_offset <span style="color:#ff79c6">)</span> VALUES <span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#39;LastCommit&#39;</span>, 1, 0, 1, 1601641423355, <span style="color:#bd93f9">540</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.356013<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL INSERT INTO last_known_states <span style="color:#ff79c6">(</span>commit_point_id, type, state, event_seq_num, event_time, event_utc_offset <span style="color:#ff79c6">)</span> VALUES <span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#39;LastCommit&#39;</span>, 3, 0, 1, 1601641423355, <span style="color:#bd93f9">540</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.356044<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL INSERT INTO last_known_states <span style="color:#ff79c6">(</span>commit_point_id, type, state, event_seq_num, event_time, event_utc_offset <span style="color:#ff79c6">)</span> VALUES <span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#39;LastCommit&#39;</span>, 2, 0, 1, 1601641423355, <span style="color:#bd93f9">540</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.356070<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL INSERT INTO last_known_states <span style="color:#ff79c6">(</span>commit_point_id, type, state, event_seq_num, event_time, event_utc_offset <span style="color:#ff79c6">)</span> VALUES <span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#39;LastCommit&#39;</span>, 5, 0, 1, 1601641423355, <span style="color:#bd93f9">540</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.356094<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL INSERT INTO last_known_states <span style="color:#ff79c6">(</span>commit_point_id, type, state, event_seq_num, event_time, event_utc_offset <span style="color:#ff79c6">)</span> VALUES <span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#39;LastCommit&#39;</span>, 4, 0, 1, 1601641423355, <span style="color:#bd93f9">540</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span>Oct <span style="color:#bd93f9">02</span> 21:23:43 bastin aws-discoveryd<span style="color:#ff79c6">[</span>11023<span style="color:#ff79c6">]</span>: <span style="color:#ff79c6">[</span>2020-10-02 21:23:43.356116<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>0xf7d19700<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">[</span>debug<span style="color:#ff79c6">]</span>   Executing SQL COMMIT TRANSACTION commit_states
</span></span><span style="display:flex;"><span>Hint: Some lines were ellipsized, use -l to show in full.
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>ec2-user@bastin ads<span style="color:#ff79c6">]</span>$
</span></span></code></pre></div><h4 id="log-file-and-configuration-file-locations">Log File and Configuration File Locations</h4>
<p>Log files</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>/var/log/aws/discovery/
</span></span></code></pre></div><p>Configuration files</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>/var/opt/aws/discovery/
</span></span></code></pre></div><h4 id="data-collector">Data Collector</h4>
<p>Check the box and click <code>Start data collection</code>.</p>
<p><img src="/en/aws-ec2-application-discovery-service/image-20201002212831469.png" alt="image-20201002212831469"></p>
<p>Start data collection. If you enable <code>Explore data in Amazon Athena</code> here, data will be saved to S3 via Kinesis.</p>
<p><img src="/en/aws-ec2-application-discovery-service/image-20201002212906889.png" alt="image-20201002212906889"></p>
<p><img src="/en/aws-ec2-application-discovery-service/image-20201002212927442.png" alt="image-20201002212927442"></p>
<h4 id="data-collected">Data Collected</h4>
<h5 id="server-basic-information">Server Basic Information</h5>
<p><img src="/en/aws-ec2-application-discovery-service/image-20201002214556049.png" alt="image-20201002214556049"></p>
<h5 id="performance-information">Performance Information</h5>
<p><img src="/en/aws-ec2-application-discovery-service/image-20201002214610277.png" alt="image-20201002214610277"></p>
<p>The information collected is as follows:</p>
<blockquote>
<p><a href="https://docs.aws.amazon.com/application-discovery/latest/userguide/agent-data-collected.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/application-discovery/latest/userguide/agent-data-collected.html</a>
</p>
<p>Data collected by the Discovery Agent</p>
</blockquote>
<h4 id="other-features">Other Features</h4>
<p>EC2 instance recommendations are also detected.</p>
<p><img src="/en/aws-ec2-application-discovery-service/image-20201002214847983.png" alt="image-20201002214847983"></p>

      </div>
    </div>

    
    
    
    <a href="https://github.com/zatoima/zatoima.github.io/edit/main/content/blog/2020-10-12-AWS%20Application%20Discovery%20Service%e3%81%ae%e3%82%a8%e3%83%bc%e3%82%b8%e3%82%a7%e3%83%b3%e3%83%88%e3%82%92EC2%28Linux%29%e3%81%ab%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/index.md" target="_blank" rel="noopener noreferrer" class="github-edit-link">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
      Suggest an edit on GitHub
    </a>
    
    

    
    
    <nav class="prev-next-nav">
      
      <a href="https://zatoima.github.io/en/aws-awssets-list-resources.html" class="prev-next-link prev-link">
        <span class="prev-next-label">‚Üê Previous article</span>
        <span class="prev-next-title">Exporting AWS Resource Information Using awsets</span>
      </a>
      
      
      <a href="https://zatoima.github.io/en/aws-availabilityzone-mapping-zonename-zoneid.html" class="prev-next-link next-link">
        <span class="prev-next-label">Next article ‚Üí</span>
        <span class="prev-next-title">Checking the Mapping Between Availability Zone ‚Ä¶</span>
      </a>
      
    </nav>
    

    
<div class="share-buttons">
  <span class="share-label">Share:</span>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fzatoima.github.io%2fen%2faws-ec2-application-discovery-service.html&text=Installing&#43;the&#43;AWS&#43;Application&#43;Discovery&#43;Service&#43;Agent&#43;on&#43;EC2&#43;%28Linux%29" target="_blank" rel="noopener noreferrer" class="share-btn share-twitter" aria-label="Share on X">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
  </a>
  <a href="https://b.hatena.ne.jp/entry/https://zatoima.github.io/en/aws-ec2-application-discovery-service.html" target="_blank" rel="noopener noreferrer" class="share-btn share-hatena" aria-label="Add to Hatena Bookmark">B!</a>
</div>



<div class="related-articles">
  <h2 class="related-articles-title">Related articles</h2>
  <ul class="related-list">
    
    <li><a href="/en/aws-awssets-list-resources.html">Exporting AWS Resource Information Using awsets</a></li>
    
    <li><a href="/en/aws-ec2-dedicated-instance-host.html">Differences Between Dedicated Instances and Amazon EC2 Dedicated Hosts</a></li>
    
    <li><a href="/en/aws-ec2-cpu-hyper-threading.html">How to Disable Hyper-Threading on EC2</a></li>
    
    <li><a href="/en/aws-ec2-userdata-apache-install.html">Auto-Installing Apache on EC2 Using User Data</a></li>
    
    <li><a href="/en/wordpress-ec2-multipul-host.html">How to Host Multiple WordPress Sites on a Single EC2 Instance</a></li>
    
  </ul>
</div>




<div class="post-tags">
  
  <a href="https://zatoima.github.io/en/blog/aws/" class="tag-badge"><img src="/images/tags/aws.svg" alt="AWS" class="tag-badge-icon" loading="lazy">AWS</a>
  
  <a href="https://zatoima.github.io/en/blog/ec2/" class="tag-badge"><img src="/images/tags/ec2.svg" alt="EC2" class="tag-badge-icon" loading="lazy">EC2</a>
  
  <a href="https://zatoima.github.io/en/blog/migration-hub/" class="tag-badge">Migration Hub</a>
  
  <a href="https://zatoima.github.io/en/blog/aws-application-discovery-service/" class="tag-badge">AWS Application Discovery Service</a>
  
</div>


  </article>

  
  <aside class="article-sidebar">
    <div class="toc-container">
      <div class="toc-title">Table of Contents</div>
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#what-is-aws-application-discovery-service">What is AWS Application Discovery Service?</a></li>
        <li><a href="#agent-installation-and-data-collection">Agent Installation and Data Collection</a>
          <ul>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#download-the-agent">Download the Agent</a></li>
            <li><a href="#verify-the-agents-cryptographic-signature">Verify the Agent&rsquo;s Cryptographic Signature</a></li>
            <li><a href="#extract-the-agent">Extract the Agent</a></li>
            <li><a href="#install-the-agent">Install the Agent</a></li>
            <li><a href="#verify-the-agent-is-running">Verify the Agent is Running</a></li>
            <li><a href="#log-file-and-configuration-file-locations">Log File and Configuration File Locations</a></li>
            <li><a href="#data-collector">Data Collector</a></li>
            <li><a href="#data-collected">Data Collected</a></li>
            <li><a href="#other-features">Other Features</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </aside>
  
</div>

    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <div class="footer-disclaimer">The contents of this blog are my personal views and do not represent the official views of any company or organization I am affiliated with.</div>
        <div class="footer-links">
          <a href="/en/">Home</a>
          <a href="/en/blog/">Articles</a>
          <a href="/en/tags/">Tags</a>
          <a href="/en/about/">About</a>
        </div>
        <div class="footer-social">
          <a href="https://github.com/zatoima" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          </a>
          <a href="https://x.com/zatoima1" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </a>
          <a href="/index.xml" aria-label="RSS">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19.01 7.38 20 6.18 20C5 20 4 19.01 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg>
          </a>
        </div>
        <div class="footer-copyright">Copyright ¬© 2019, zatoima.</div>
        <div class="footer-disclaimer">memo blog. Hugo on GitHub Pages</div>
        <div class="footer-disclaimer">The contents of this blog are my personal views and do not represent the official views of any company or organization I am affiliated with.</div>
      </div>
    </footer>
  </div>
  <script src="/js/lightbox.js" defer></script>
  <script src="/js/toc-highlight.js" defer></script>
  <script src="/js/code-copy.js" defer></script>
  <script src="/js/dark-mode.js" defer></script>
  <script src="/js/mobile-nav.js" defer></script>
  <script src="/js/search.js" defer></script>
  <script src="/js/reading-progress.js" defer></script>
  <script src="/js/lang-detect.js" defer></script>
  <script src="/js/lang-switcher.js" defer></script>
</body>

</html>
