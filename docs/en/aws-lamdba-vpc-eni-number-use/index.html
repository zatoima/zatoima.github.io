<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://zatoima.github.io/favicon.svg" />
<title>Number of ENIs When Using Lambda in a VPC | my opinion is my own</title>
<meta name="title" content="Number of ENIs When Using Lambda in a VPC" />
<meta name="description" content="" />
<meta name="keywords" content="AWS,Lambda," />


<meta property="og:url" content="https://zatoima.github.io/en/aws-lamdba-vpc-eni-number-use/">
  <meta property="og:site_name" content="my opinion is my own">
  <meta property="og:title" content="Number of ENIs When Using Lambda in a VPC">
  <meta property="og:description" content="memo blog. Hugo on GitHub Pages">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2022-07-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2022-07-24T00:00:00+00:00">
    <meta property="article:tag" content="AWS">
    <meta property="article:tag" content="Lambda">
    <meta property="og:image" content="https://zatoima.github.io/images/share.png">




  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://zatoima.github.io/images/share.png">
  <meta name="twitter:title" content="Number of ENIs When Using Lambda in a VPC">
  <meta name="twitter:description" content="memo blog. Hugo on GitHub Pages">




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "\"Number of ENIs When Using Lambda in a VPC\"",
  "description": "\"\"",
  "datePublished": "\"2022-07-24T00:00:00Z\"",
  "dateModified": "\"2022-07-24T00:00:00Z\"",
  "author": {
    "@type": "Person",
    "name": "\"zatoima\"",
    "url": "https://zatoima.github.io/about/"
  },
  "publisher": {
    "@type": "Person",
    "name": "\"zatoima\""
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "\"https://zatoima.github.io/en/aws-lamdba-vpc-eni-number-use/\""
  },
  "inLanguage": "en",
  "wordCount":  200 ,
  "keywords": "[\"AWS\",\"Lambda\"]"
}
</script>

<meta name="referrer" content="no-referrer-when-downgrade" />

  <link rel="alternate" type="text/plain" href="/llms.txt" title="LLMs.txt" />
  <link rel="alternate" type="text/plain" href="/llms-full.txt" title="LLMs-full.txt" />

  <script>
    (function(){
      var t = localStorage.getItem('theme');
      if (t === 'dark' || ((!t || t === 'system') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script><link rel="stylesheet" href="/css/zenn.css">

<script async src="https://www.googletagmanager.com/gtag/js?id=G-STFZ9QMXGM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-STFZ9QMXGM');
</script>

    
    <link rel="alternate" hreflang="ja" href="https://zatoima.github.io/aws-lamdba-vpc-eni-number-use/" />
    
    <link rel="alternate" hreflang="en" href="https://zatoima.github.io/en/aws-lamdba-vpc-eni-number-use/" />
  
</head>

<body>
  <a href="#main" class="skip-link">Skip to main content</a>
  <div class="reading-progress"></div>
  
  
  <div class="translation-notice">This is an English translation of a Japanese blog. Some content may not be fully translated.</div>
  
  <div class="site-wrapper">
    <header class="site-header">
      <div class="header-inner">
        <a href="/en/" class="site-logo">my opinion is my own</a>
        <nav class="header-nav">
<a href="/about/">About</a>
<a href="/en/blog/">Blog</a>
<a href="/index.xml">RSS</a>
<a href="/other/">Other</a>
<a href="/llms.txt" title="LLMs.txt - Site info for AI/LLM">llms.txt</a>
</nav>
        <div class="header-actions">
          <button id="search-btn" class="header-icon-btn" aria-label="Search">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
          </button>
          <button id="dark-mode-btn" class="header-icon-btn" aria-label="Toggle dark mode" data-label-light="Light" data-label-dark="Dark" data-label-system="System">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          </button><div class="lang-switcher">
  <button id="lang-btn" class="header-icon-btn" aria-label="Switch language">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
  </button>
  <div id="lang-dropdown" class="lang-dropdown">
    
    <a href="https://zatoima.github.io/" class="lang-dropdown-item" lang="ja">
      Êó•Êú¨Ë™û
    </a>
    
    <a href="https://zatoima.github.io/en/" class="lang-dropdown-item active" lang="en">
      English
    </a>
    
  </div>
</div>
<button id="hamburger-btn" class="hamburger-btn" aria-label="Menu">
            <span></span><span></span><span></span>
          </button>
        </div>
      </div>
    </header>

    
    <div id="search-overlay" class="search-overlay">
      <div class="search-modal">
        <input type="text" id="search-input" class="search-input" placeholder="Search articles... (Ctrl&#43;K)" autocomplete="off" data-min-chars="Please enter at least 2 characters" data-no-results="No results found">
        <div id="search-results" class="search-results"></div>
      </div>
    </div>

    
    <div id="nav-overlay" class="nav-overlay"></div>

    <main id="main" class="site-main">
<div class="article-layout">
  <article class="article-main">
    
    <nav class="breadcrumb" aria-label="Breadcrumb">
  <a href="/en/">Home</a>
  <span class="breadcrumb-sep">&gt;</span>
  
  <a href="/blog/">Blog</a>
  <span class="breadcrumb-sep">&gt;</span>
  
  <span class="breadcrumb-current">Number of ENIs When Using Lambda in a ‚Ä¶</span>
</nav>

    
    <div class="article-card">
      <div class="article-header">
        <div class="article-emoji"><img src="/images/tags/aws.svg" alt="AWS" class="tag-icon" loading="lazy"></div>
        <h1>Number of ENIs When Using Lambda in a VPC</h1>
        
        <div class="article-meta">
          <time class="article-date" datetime='2022-07-24'>
            Published on 2022/07/24
          </time>
          
          
          
          <span class="reading-time">üìñ 1 min read</span>
        </div>
        <div class="article-tags">
          
          <a href="https://zatoima.github.io/en/blog/aws/" class="tag-badge"><img src="/images/tags/aws.svg" alt="AWS" class="tag-badge-icon" loading="lazy">AWS</a>
          
          <a href="https://zatoima.github.io/en/blog/lambda/" class="tag-badge"><img src="/images/tags/lambda.svg" alt="Lambda" class="tag-badge-icon" loading="lazy">Lambda</a>
          
        </div>
        
      </div>
      <div class="article-content">
        <blockquote>
<p>[Announcement] Lambda Functions Will Be Improved in VPC Environment | Amazon Web Services Blog <a href="https://aws.amazon.com/blogs/aws/announcing-improved-vpc-networking-for-aws-lambda-functions/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/blogs/aws/announcing-improved-vpc-networking-for-aws-lambda-functions/</a>
</p>
</blockquote>
<p>Before:</p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/b3f0c7f6bb763af1be91d9e74eabfeb199dc1f1f/2019/09/04/many-enis-1024x616.png" alt="img"></p>
<p>Now:</p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/b3f0c7f6bb763af1be91d9e74eabfeb199dc1f1f/2019/09/04/v2n-architecture-1024x613.png" alt="img"></p>
<blockquote>
<p><a href="https://docs.aws.amazon.com/lambda/latest/dg/foundation-networking.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/lambda/latest/dg/foundation-networking.html</a>
</p>
<h3 id="eni-management">ENI Management</h3>
<p>Lambda uses the permissions of the function execution role to create and manage network interfaces. When you define a unique subnet and security group combination for VPC-enabled functions in your account, Lambda creates a Hyperplane ENI. Lambda reuses the Hyperplane ENI for other VPC-enabled functions in your account that use the same subnet and security group combination.</p>
<p>There is no quota for the number of Lambda functions that can use the same Hyperplane ENI. However, each Hyperplane ENI supports a maximum of 65,000 connections/ports. If the number of connections exceeds 65,000, Lambda creates a new Hyperplane ENI to provide additional connections.</p>
<p>If you update the function configuration to access a different VPC, Lambda terminates the connection to the Hyperplane ENI in the previous VPC. The process of updating the connection to the new VPC can take several minutes. During this time, invocations to the function continue using the previous VPC. Once the update is complete, new invocations start using the Hyperplane ENI in the new VPC. At this point, the Lambda function is no longer connected to the previous VPC.</p>
</blockquote>

      </div>
    </div>

    
    
    
    <a href="https://github.com/zatoima/zatoima.github.io/edit/main/content/blog/2022-07-24-Lambda%e3%82%92VPC%e3%81%a7%e4%bd%bf%e7%94%a8%e3%81%99%e3%82%8b%e9%9a%9b%e3%81%aeENI%e6%95%b0%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6/index.md" target="_blank" rel="noopener noreferrer" class="github-edit-link">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
      Suggest an edit on GitHub
    </a>
    
    

    
    
    <nav class="prev-next-nav">
      
      <a href="https://zatoima.github.io/en/aws-aurora-patch-apply-downtime-log/" class="prev-next-link prev-link">
        <span class="prev-next-label">‚Üê Previous article</span>
        <span class="prev-next-title">Downtime Log When Applying a Patch to Aurora ‚Ä¶</span>
      </a>
      
      
      <a href="https://zatoima.github.io/en/aws-aurora-postgresql-pg_settings-csv-output/" class="prev-next-link next-link">
        <span class="prev-next-label">Next article ‚Üí</span>
        <span class="prev-next-title">Exporting pg_settings to CSV in Aurora PostgreSQL</span>
      </a>
      
    </nav>
    

    
<div class="share-buttons">
  <span class="share-label">Share:</span>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fzatoima.github.io%2fen%2faws-lamdba-vpc-eni-number-use%2f&text=Number&#43;of&#43;ENIs&#43;When&#43;Using&#43;Lambda&#43;in&#43;a&#43;VPC" target="_blank" rel="noopener noreferrer" class="share-btn share-twitter" aria-label="Share on X">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
  </a>
  <a href="https://b.hatena.ne.jp/entry/https://zatoima.github.io/en/aws-lamdba-vpc-eni-number-use/" target="_blank" rel="noopener noreferrer" class="share-btn share-hatena" aria-label="Add to Hatena Bookmark">B!</a>
</div>



<div class="related-articles">
  <h2 class="related-articles-title">Related articles</h2>
  <ul class="related-list">
    
    <li><a href="/en/aws-aurora-patch-apply-downtime-log/">Downtime Log When Applying a Patch to Aurora PostgreSQL</a></li>
    
    <li><a href="/en/aws-kinesis-hot-shard-advisor/">Tool for Finding Hot Shards in Kinesis Data Streams</a></li>
    
    <li><a href="/en/aws-redshift-internal-re-invented/">Resources on Redshift&#39;s Internal Architecture</a></li>
    
    <li><a href="/en/aws-aurora-postgresql-postgis/">Using PostGIS (Geospatial) in Aurora PostgreSQL</a></li>
    
    <li><a href="/en/aws-s3-event-missing/">S3 Event Missed Notifications Do Not Occur as of 2022</a></li>
    
  </ul>
</div>




<div class="post-tags">
  
  <a href="https://zatoima.github.io/en/blog/aws/" class="tag-badge"><img src="/images/tags/aws.svg" alt="AWS" class="tag-badge-icon" loading="lazy">AWS</a>
  
  <a href="https://zatoima.github.io/en/blog/lambda/" class="tag-badge"><img src="/images/tags/lambda.svg" alt="Lambda" class="tag-badge-icon" loading="lazy">Lambda</a>
  
</div>


  </article>

  
  <aside class="article-sidebar">
    <div class="toc-container">
      <div class="toc-title">Table of Contents</div>
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#eni-management">ENI Management</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </aside>
  
</div>

    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <div class="footer-disclaimer">The contents of this blog are my personal views and do not represent the official views of any company or organization I am affiliated with.</div>
        <div class="footer-links">
          <a href="/en/">Home</a>
          <a href="/en/blog/">Articles</a>
          <a href="/en/tags/">Tags</a>
          <a href="/en/about/">About</a>
        </div>
        <div class="footer-social">
          <a href="https://github.com/zatoima" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          </a>
          <a href="https://x.com/zatoima1" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </a>
          <a href="/index.xml" aria-label="RSS">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19.01 7.38 20 6.18 20C5 20 4 19.01 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg>
          </a>
        </div>
        <div class="footer-copyright">Copyright ¬© 2019, zatoima.</div>
        <div class="footer-disclaimer">memo blog. Hugo on GitHub Pages</div>
        <div class="footer-disclaimer">The contents of this blog are my personal views and do not represent the official views of any company or organization I am affiliated with.</div>
      </div>
    </footer>
  </div>
  <script src="/js/lightbox.js" defer></script>
  <script src="/js/toc-highlight.js" defer></script>
  <script src="/js/code-copy.js" defer></script>
  <script src="/js/dark-mode.js" defer></script>
  <script src="/js/mobile-nav.js" defer></script>
  <script src="/js/search.js" defer></script>
  <script src="/js/reading-progress.js" defer></script>
  <script src="/js/lang-detect.js" defer></script>
  <script src="/js/lang-switcher.js" defer></script>
</body>

</html>
