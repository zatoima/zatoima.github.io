{{- $tagIcon := "" -}}
{{- with (.GetTerms "tags") -}}
  {{- $firstTag := (index . 0).LinkTitle -}}
  {{- $tagLower := $firstTag | lower -}}
  {{- $mapping := dict
    "aws" "aws"
    "postgresql" "postgresql"
    "aurora" "aurora"
    "oracle" "oracle"
    "rds" "rds"
    "redshift" "redshift"
    "ec2" "ec2"
    "python" "python"
    "mysql" "mysql"
    "docker" "docker"
    "gcp" "gcp"
    "hugo" "hugo"
    "neptune" "neptune"
    "emr" "emr"
    "goldengate" "goldengate"
    "s3" "s3"
    "lambda" "lambda"
    "dms" "dms"
    "git/github" "github"
    "github" "github"
    "git" "github"
    "claude code" "claude"
    "claude" "claude"
  -}}
  {{- $emojiMap := dict
    "snowflake" "â„ï¸"
    "mac" "ğŸ"
    "tips" "ğŸ’¡"
    "gas" "ğŸ“Š"
    "linux" "ğŸ§"
    "shell" "ğŸ–¥ï¸"
    "sql" "ğŸ—„ï¸"
    "terraform" "ğŸ—ï¸"
    "network" "ğŸŒ"
    "security" "ğŸ”’"
    "monitoring" "ğŸ“ˆ"
    "ci/cd" "ğŸ”„"
  -}}
  {{- $iconFile := index $mapping $tagLower -}}
  {{- if $iconFile -}}
    <img src="/images/tags/{{ $iconFile }}.svg" alt="{{ $firstTag }}" class="tag-icon" loading="lazy">
  {{- else -}}
    {{- $emoji := index $emojiMap $tagLower -}}
    {{- if $emoji -}}
      {{- $emoji -}}
    {{- else -}}
      ğŸ“
    {{- end -}}
  {{- end -}}
{{- else -}}
  ğŸ“
{{- end -}}
