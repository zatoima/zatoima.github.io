{{ define "main" }}
<div class="article-layout">
  <article class="article-main">
    {{ if not .Params.menu }}
    {{ partial "breadcrumb.html" . }}
    {{ end }}
    <div class="article-card">
      <div class="article-header">
        <div class="article-emoji">{{ with .Params.emoji }}{{ . }}{{ else }}ğŸ“{{ end }}</div>
        <h1>{{ .Title }}</h1>
        {{ if not .Params.menu }}
        <div class="article-meta">
          <time class="article-date" datetime='{{ .Date.Format "2006-01-02" }}'>
            {{ .Date.Format "2006/01/02" }} ã«å…¬é–‹
          </time>
          {{ $wordCount := .WordCount }}
          {{ $readingTime := div $wordCount 500 }}
          {{ if lt $readingTime 1 }}{{ $readingTime = 1 }}{{ end }}
          <span class="reading-time">ğŸ“– ç´„{{ $readingTime }}åˆ†</span>
        </div>
        <div class="article-tags">
          {{ range (.GetTerms "tags") }}
          <a href="{{ .Permalink }}" class="tag-badge">{{ .LinkTitle }}</a>
          {{ end }}
        </div>
        {{ end }}
      </div>
      <div class="article-content">
        {{ .Content }}
      </div>
    </div>

    <!-- Prev/Next Navigation -->
    {{ if not .Params.menu }}
    <nav class="prev-next-nav">
      {{ with .PrevInSection }}
      <a href="{{ .Permalink }}" class="prev-next-link prev-link">
        <span class="prev-next-label">â† å‰ã®è¨˜äº‹</span>
        <span class="prev-next-title">{{ .Title | truncate 50 }}</span>
      </a>
      {{ else }}
      <div class="prev-next-link prev-link empty"></div>
      {{ end }}
      {{ with .NextInSection }}
      <a href="{{ .Permalink }}" class="prev-next-link next-link">
        <span class="prev-next-label">æ¬¡ã®è¨˜äº‹ â†’</span>
        <span class="prev-next-title">{{ .Title | truncate 50 }}</span>
      </a>
      {{ else }}
      <div class="prev-next-link next-link empty"></div>
      {{ end }}
    </nav>
    {{ end }}

    {{ partial "post-footer.html" . }}
  </article>

  {{ if .TableOfContents }}
  <aside class="article-sidebar">
    <div class="toc-container">
      <div class="toc-title">ç›®æ¬¡</div>
      {{ .TableOfContents }}
    </div>
  </aside>
  {{ end }}
</div>
{{ end }}
